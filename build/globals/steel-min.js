this.steel={},this.steelNamed={},function(e){var t=e.babelHelpers={};t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},t.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),t.get=function n(e,t,s){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var l=Object.getPrototypeOf(e);return null===l?void 0:n(l,t,s)}if("value"in a)return a.value;var i=a.get;return void 0===i?void 0:i.call(s)},t.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}("undefined"==typeof global?self:global),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"getConstructor",value:function(t){var n=e.components_[t];return n}},{key:"register",value:function(t,n){e.components_[t]=n,n.NAME=t,n.TEMPLATES=e.Templates[t]}}]),e}();e.components_={},e.Templates={},this.steel.ComponentRegistry=e}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"abstractMethod",value:function(){throw Error("Unimplemented abstract method")}},{key:"collectSuperClassesProperty",value:function(e,t){for(var n=[e[t]];e.__proto__&&!e.__proto__.isPrototypeOf(Function);)e=e.__proto__,n.push(e[t]);return n}},{key:"getUid",value:function(t){return t?t[e.UID_PROPERTY]||(t[e.UID_PROPERTY]=e.uniqueIdCounter_++):e.uniqueIdCounter_++}},{key:"identityFunction",value:function(e){return e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isDef",value:function(e){return void 0!==e}},{key:"isDefAndNotNull",value:function(t){return e.isDef(t)&&!e.isNull(t)}},{key:"isDocument",value:function(e){return e&&"object"==typeof e&&9===e.nodeType}},{key:"isElement",value:function(e){return e&&"object"==typeof e&&1===e.nodeType}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isNull",value:function(e){return null===e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isWindow",value:function(e){return null!==e&&e===e.window}},{key:"isObject",value:function(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"mergeSuperClassesProperty",value:function(t,n,s){var a=n+"_MERGED";if(t.hasOwnProperty(a))return!1;var l=e.collectSuperClassesProperty(t,n);return s&&(l=s(l)),t[a]=l,!0}},{key:"nullFunction",value:function(){}}]),e}();e.UID_PROPERTY="core_"+(1e9*Math.random()>>>0),e.uniqueIdCounter_=1,this.steel.core=e}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"mixin",value:function(e){for(var t,n,s=1;s<arguments.length;s++){n=arguments[s];for(t in n)e[t]=n[t]}return e}}]),e}();this.steel.object=e}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e),this.disposed_=!1}return babelHelpers.createClass(e,[{key:"dispose",value:function(){this.disposed_||(this.disposeInternal(),this.disposed_=!0)}},{key:"disposeInternal",value:function(){}},{key:"isDisposed",value:function(){return this.disposed_}}]),e}();this.steel.Disposable=e}.call(this),function(){"use strict";var e=this.steel.Disposable,t=function(e){function t(e,n,s){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.emitter_=e,this.event_=n,this.listener_=s}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"disposeInternal",value:function(){this.removeListener(),this.emitter_=null,this.listener_=null}},{key:"removeListener",value:function(){this.emitter_.isDisposed()||this.emitter_.removeListener(this.event_,this.listener_)}}]),t}(e);this.steel.EventHandle=t}.call(this),function(){"use strict";var e=this.steel.EventHandle,t=function(e){function t(e,n,s){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,s)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"removeListener",value:function(){this.emitter_.removeEventListener(this.event_,this.listener_)}}]),t}(e);this.steel.DomEventHandle=t}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.object,n=this.steel.DomEventHandle,s=function(){function s(){babelHelpers.classCallCheck(this,s)}return babelHelpers.createClass(s,null,[{key:"addClasses",value:function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?s.addClassesWithNative_(t,n):s.addClassesWithoutNative_(t,n))}},{key:"addClassesWithNative_",value:function(e,t){t.split(" ").forEach(function(t){e.classList.add(t)})}},{key:"addClassesWithoutNative_",value:function(e,t){var n=" "+e.className+" ",s="";t=t.split(" ");for(var a=0;a<t.length;a++){var l=t[a];-1===n.indexOf(" "+l+" ")&&(s+=" "+l)}s&&(e.className=e.className+s)}},{key:"append",value:function(t,n){return e.isString(n)&&(n=s.buildFragment(n)),t.appendChild(n)}},{key:"buildFragment",value:function(e){var t=document.createElement("div");t.innerHTML="<br>"+e,t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n}},{key:"delegate",value:function(e,t,n,a){var l=s.customEvents[t];return l&&l.delegate&&(t=l.originalEvent,a=l.handler.bind(l,a)),s.on(e,t,s.handleDelegateEvent_.bind(null,n,a))}},{key:"enterDocument",value:function(e){s.append(document.body,e)}},{key:"exitDocument",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"handleDelegateEvent_",value:function(t,n,a){s.normalizeDelegateEvent_(a);for(var l=a.target,i=!0;l&&!a.stopped;)e.isString(t)&&s.match(l,t)&&(a.delegateTarget=l,i&=n(a)),l=l.parentNode;return i}},{key:"hasClass",value:function(e,t){return"classList"in e?s.hasClassWithNative_(e,t):s.hasClassWithoutNative_(e,t)}},{key:"hasClassWithNative_",value:function(e,t){return e.classList.contains(t)}},{key:"hasClassWithoutNative_",value:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0}},{key:"isEmpty",value:function(e){return 0===e.childNodes.length}},{key:"match",value:function(e,t){if(!e||1!==e.nodeType)return!1;var n=Element.prototype,a=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return a?a.call(e,t):s.matchFallback_(e,t)}},{key:"matchFallback_",value:function(e,t){for(var n=document.querySelectorAll(t,e.parentNode),s=0;s<n.length;++s)if(n[s]===e)return!0;return!1}},{key:"normalizeDelegateEvent_",value:function(e){e.stopPropagation=s.stopPropagation_,e.stopImmediatePropagation=s.stopImmediatePropagation_}},{key:"on",value:function(e,t,a){var l=s.customEvents[t];return l&&l.event&&(t=l.originalEvent,a=l.handler.bind(l,a)),e.addEventListener(t,a),new n(e,t,a)}},{key:"registerCustomEvent",value:function(e,t){s.customEvents[e]=t}},{key:"removeChildren",value:function(e){for(var t;t=e.firstChild;)e.removeChild(t)}},{key:"removeClasses",value:function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?s.removeClassesWithNative_(t,n):s.removeClassesWithoutNative_(t,n))}},{key:"removeClassesWithNative_",value:function(e,t){t.split(" ").forEach(function(t){e.classList.remove(t)})}},{key:"removeClassesWithoutNative_",value:function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var s=0;s<t.length;s++)n=n.replace(" "+t[s]+" "," ");e.className=n.trim()}},{key:"replace",value:function(e,t){e&&t&&e!==t&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))}},{key:"stopImmediatePropagation_",value:function(){this.stopped=!0,Event.prototype.stopImmediatePropagation.call(this)}},{key:"stopPropagation_",value:function(){this.stopped=!0,Event.prototype.stopPropagation.call(this)}},{key:"supportsEvent",value:function(t,n){return s.customEvents[n]?!0:(e.isString(t)&&(a[t]||(a[t]=document.createElement(t)),t=a[t]),"on"+n in t)}},{key:"toElement",value:function(t){return e.isElement(t)||e.isDocument(t)?t:e.isString(t)?"#"===t[0]&&-1===t.indexOf(" ")?document.getElementById(t.substr(1)):document.querySelector(t):null}},{key:"toggleClasses",value:function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?s.toggleClassesWithNative_(t,n):s.toggleClassesWithoutNative_(t,n))}},{key:"toggleClassesWithNative_",value:function(e,t){t.split(" ").forEach(function(t){e.classList.toggle(t)})}},{key:"toggleClassesWithoutNative_",value:function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var s=0;s<t.length;s++){var a=" "+t[s]+" ",l=n.indexOf(a);n=-1===l?n+t[s]+" ":n.substring(0,l)+" "+n.substring(l+a.length)}e.className=n.trim()}},{key:"triggerEvent",value:function(e,n,s){var a=document.createEvent("HTMLEvents");a.initEvent(n,!0,!0),t.mixin(a,s),e.dispatchEvent(a)}}]),s}(),a={};s.customEvents={};var l={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"};Object.keys(l).forEach(function(e){s.registerCustomEvent(e,{delegate:!0,handler:function(t,n){var s=n.relatedTarget,a=n.delegateTarget||n.target;return!s||s!==a&&!a.contains(s)?(n.customType=e,t(n)):void 0},originalEvent:l[e]})}),this.steel.dom=s}.call(this),function(){"use strict";var e=this.steel.Disposable,t=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.eventHandles_=[]}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"add",value:function(){for(var e=0;e<arguments.length;e++)this.eventHandles_.push(arguments[e])}},{key:"disposeInternal",value:function(){this.eventHandles_=null}},{key:"removeAllListeners",value:function(){for(var e=0;e<this.eventHandles_.length;e++)this.eventHandles_[e].removeListener();this.eventHandles_=[]}}]),t}(e);this.steel.EventHandler=t}.call(this),function(){/*!
   * Promises polyfill from Google's Closure Library.
   *
   *      Copyright 2013 The Closure Library Authors. All Rights Reserved.
   *
   * NOTE(eduardo): Promise support is not ready on all supported browsers,
   * therefore core.js is temporarily using Google's promises as polyfill. It
   * supports cancellable promises and has clean and fast implementation.
   */
"use strict";var e=this.steel.core,t=function(){};t.prototype.then=function(){},t.IMPLEMENTED_BY_PROP="$goog_Thenable",t.addImplementation=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},t.isImplementedBy=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}};var n=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}},s={};s.throwException=function(e){s.nextTick(function(){throw e})},s.run=function(e,t){s.run.workQueueScheduled_||(s.nextTick(s.run.processWorkQueue),s.run.workQueueScheduled_=!0),s.run.workQueue_.push(new s.run.WorkItem_(e,t))},s.run.workQueueScheduled_=!1,s.run.workQueue_=[],s.run.processWorkQueue=function(){for(;s.run.workQueue_.length;){var e=s.run.workQueue_;s.run.workQueue_=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.fn.call(n.scope)}catch(a){s.throwException(a)}}}s.run.workQueueScheduled_=!1},s.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},s.nextTick=function(t,n){var a=t;return n&&(a=t.bind(n)),a=s.nextTick.wrapCallback_(a),e.isFunction(window.setImmediate)?void window.setImmediate(a):(s.nextTick.setImmediate_||(s.nextTick.setImmediate_=s.nextTick.getSetImmediateEmulator_()),void s.nextTick.setImmediate_(a))},s.nextTick.setImmediate_=null,s.nextTick.getSetImmediateEmulator_=function(){var e=window.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var s="callImmediate"+Math.random(),a=t.location.protocol+"//"+t.location.host,l=function(e){(e.origin===a||e.data===s)&&this.port1.onmessage()}.bind(this);t.addEventListener("message",l,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(s,a)}}}),"undefined"!=typeof e){var t=new e,n={},s=n;return t.port1.onmessage=function(){n=n.next;var e=n.cb;n.cb=null,e()},function(e){s.next={cb:e},s=s.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){setTimeout(e,0)}},s.nextTick.wrapCallback_=function(e){return e};var a=function l(e,t){this.state_=l.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.executing_=!1,l.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0===l.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);try{var n=this;e.call(t,function(e){n.resolve_(l.State_.FULFILLED,e)},function(e){n.resolve_(l.State_.REJECTED,e)})}catch(s){this.resolve_(l.State_.REJECTED,s)}};a.UNHANDLED_REJECTION_DELAY=0,a.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},a.CallbackEntry_=null,a.resolve=function(e){return new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){e.length||t(void 0);for(var s,a=0;s=e[a];a++)s.then(t,n)})},a.all=function(e){return new a(function(t,s){var a=e.length,l=[];if(!a)return void t(l);for(var i,o=function(e,n){a--,l[e]=n,0===a&&t(l)},r=function(e){s(e)},c=0;i=e[c];c++)i.then(n(o,c),r)})},a.firstFulfilled=function(e){return new a(function(t,s){var a=e.length,l=[];if(!a)return void t(void 0);for(var i,o=function(e){t(e)},r=function(e,t){a--,l[e]=t,0===a&&s(l)},c=0;i=e[c];c++)i.then(o,n(r,c))})},a.prototype.then=function(t,n,s){return this.addChildPromise_(e.isFunction(t)?t:null,e.isFunction(n)?n:null,s)},t.addImplementation(a),a.prototype.thenAlways=function(e,t){var n=function(){try{e.call(t)}catch(n){a.handleRejection_.call(null,n)}};return this.addCallbackEntry_({child:null,onRejected:n,onFulfilled:n}),this},a.prototype.thenCatch=function(e,t){return this.addChildPromise_(null,e,t)},a.prototype["catch"]=a.prototype.thenCatch,a.prototype.cancel=function(e){this.state_===a.State_.PENDING&&s.run(function(){var t=new a.CancellationError(e);this.cancelInternal_(t)},this)},a.prototype.cancelInternal_=function(e){this.state_===a.State_.PENDING&&(this.parent_?this.parent_.cancelChild_(this,e):this.resolve_(a.State_.REJECTED,e))},a.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var n,s=0,l=-1,i=0;n=this.callbackEntries_[i];i++){var o=n.child;if(o&&(s++,o===e&&(l=i),l>=0&&s>1))break}if(l>=0)if(this.state_===a.State_.PENDING&&1===s)this.cancelInternal_(t);else{var r=this.callbackEntries_.splice(l,1)[0];this.executeCallback_(r,a.State_.REJECTED,t)}}},a.prototype.addCallbackEntry_=function(e){this.callbackEntries_&&this.callbackEntries_.length||this.state_!==a.State_.FULFILLED&&this.state_!==a.State_.REJECTED||this.scheduleCallbacks_(),this.callbackEntries_||(this.callbackEntries_=[]),this.callbackEntries_.push(e)},a.prototype.addChildPromise_=function(t,n,s){var l={child:null,onFulfilled:null,onRejected:null};return l.child=new a(function(i,o){l.onFulfilled=t?function(e){try{var n=t.call(s,e);i(n)}catch(a){o(a)}}:i,l.onRejected=n?function(t){try{var l=n.call(s,t);!e.isDef(l)&&t instanceof a.CancellationError?o(t):i(l)}catch(r){o(r)}}:o}),l.child.parent_=this,this.addCallbackEntry_(l),l.child},a.prototype.unblockAndFulfill_=function(e){if(this.state_!==a.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=a.State_.PENDING,this.resolve_(a.State_.FULFILLED,e)},a.prototype.unblockAndReject_=function(e){if(this.state_!==a.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=a.State_.PENDING,this.resolve_(a.State_.REJECTED,e)},a.prototype.resolve_=function(n,s){if(this.state_===a.State_.PENDING){if(this===s)n=a.State_.REJECTED,s=new TypeError("CancellablePromise cannot resolve to itself");else{if(t.isImplementedBy(s))return s=s,this.state_=a.State_.BLOCKED,void s.then(this.unblockAndFulfill_,this.unblockAndReject_,this);if(e.isObject(s))try{var l=s.then;if(e.isFunction(l))return void this.tryThen_(s,l)}catch(i){n=a.State_.REJECTED,s=i}}this.result_=s,this.state_=n,this.scheduleCallbacks_(),n!==a.State_.REJECTED||s instanceof a.CancellationError||a.addUnhandledRejection_(this,s)}},a.prototype.tryThen_=function(e,t){this.state_=a.State_.BLOCKED;var n=this,s=!1,l=function(e){s||(s=!0,n.unblockAndFulfill_(e))},i=function(e){s||(s=!0,n.unblockAndReject_(e))};try{t.call(e,l,i)}catch(o){i(o)}},a.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,s.run(this.executeCallbacks_,this))},a.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var e=this.callbackEntries_;this.callbackEntries_=[];for(var t=0;t<e.length;t++)this.executeCallback_(e[t],this.state_,this.result_)}this.executing_=!1},a.prototype.executeCallback_=function(e,t,n){t===a.State_.FULFILLED?e.onFulfilled(n):(this.removeUnhandledRejection_(),e.onRejected(n))},a.prototype.removeUnhandledRejection_=function(){var e;if(a.UNHANDLED_REJECTION_DELAY>0)for(e=this;e&&e.unhandledRejectionId_;e=e.parent_)clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0===a.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},a.addUnhandledRejection_=function(e,t){a.UNHANDLED_REJECTION_DELAY>0?e.unhandledRejectionId_=setTimeout(function(){a.handleRejection_.call(null,t)},a.UNHANDLED_REJECTION_DELAY):0===a.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,s.run(function(){e.hadUnhandledRejection_&&a.handleRejection_.call(null,t)}))},a.handleRejection_=s.throwException,a.setUnhandledRejectionHandler=function(e){a.handleRejection_=e},a.CancellationError=function(e){var t=function(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),e&&(this.message=e)};return babelHelpers.inherits(t,e),t}(Error),a.CancellationError.prototype.name="cancel","undefined"==typeof window.Promise&&(window.Promise=a),this.steelNamed.Promise={},this.steelNamed.Promise.CancellablePromise=a,this.steelNamed.Promise.async=s}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"equal",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return e.length===t.length}},{key:"firstDefinedValue",value:function(e){for(var t=0;t<e.length;t++)if(void 0!==e[t])return e[t]}},{key:"flatten",value:function(t,n){for(var s=n||[],a=0;a<t.length;a++)Array.isArray(t[a])?e.flatten(t[a],s):s.push(t[a]);return s}},{key:"remove",value:function(t,n){var s,a=t.indexOf(n);return(s=a>=0)&&e.removeAt(t,a),s}},{key:"removeAt",value:function(e,t){return 1===Array.prototype.splice.call(e,t,1).length}}]),e}();this.steel.array=e}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.Disposable,n=this.steel.EventHandle,s=function(t){function s(){babelHelpers.classCallCheck(this,s),babelHelpers.get(Object.getPrototypeOf(s.prototype),"constructor",this).call(this),this.events_=[],this.maxListeners_=10,this.shouldUseFacade_=!1}return babelHelpers.inherits(s,t),babelHelpers.createClass(s,[{key:"addListener",value:function(e,t){this.validateListener_(t),e=this.normalizeEvents_(e);for(var s=0;s<e.length;s++)this.addSingleListener_(e[s],t);return new n(this,e,t)}},{key:"addSingleListener_",value:function(e,t,n){this.emit("newListener",e,t),this.events_[e]||(this.events_[e]=[]),this.events_[e].push({fn:t,origin:n});var s=this.events_[e];s.length>this.maxListeners_&&!s.warned&&(s.warned=!0)}},{key:"disposeInternal",value:function(){this.events_=[]}},{key:"emit",value:function(e){var t=Array.prototype.slice.call(arguments,1),n=!1,s=this.listeners(e);if(this.getShouldUseFacade()){var a={target:this,type:e};t.push(a)}for(var l=0;l<s.length;l++)s[l].apply(this,t),n=!0;return"*"!==e&&this.emit.apply(this,["*",e].concat(t)),n}},{key:"getShouldUseFacade",value:function(){return this.shouldUseFacade_}},{key:"listeners",value:function(e){return(this.events_[e]||[]).map(function(e){return e.fn})}},{key:"many",value:function(e,t,s){e=this.normalizeEvents_(e);for(var a=0;a<e.length;a++)this.many_(e[a],t,s);return new n(this,e,s)}},{key:"many_",value:function(e,t,n){function s(){0===--t&&a.removeListener(e,s),n.apply(a,arguments)}var a=this;0>=t||a.addSingleListener_(e,s,n)}},{key:"matchesListener_",value:function(e,t){return e.fn===t||e.origin&&e.origin===t}},{key:"normalizeEvents_",value:function(t){return e.isString(t)?[t]:t}},{key:"off",value:function(e,t){this.validateListener_(t),e=this.normalizeEvents_(e);for(var n=0;n<e.length;n++){var s=this.events_[e[n]]||[];this.removeMatchingListenerObjs_(s,t)}return this}},{key:"on",value:function(){return this.addListener.apply(this,arguments)}},{key:"once",value:function(e,t){return this.many(e,1,t)}},{key:"removeAllListeners",value:function(e){if(e)for(var t=this.normalizeEvents_(e),n=0;n<t.length;n++)this.events_[t[n]]=null;else this.events_={};return this}},{key:"removeMatchingListenerObjs_",value:function(e,t){for(var n=e.length-1;n>=0;n--)this.matchesListener_(e[n],t)&&e.splice(n,1)}},{key:"removeListener",value:function(){return this.off.apply(this,arguments)}},{key:"setMaxListeners",value:function(e){return this.maxListeners_=e,this}},{key:"setShouldUseFacade",value:function(e){return this.shouldUseFacade_=e,this}},{key:"validateListener_",value:function(t){if(!e.isFunction(t))throw new TypeError("Listener must be a function")}}]),s}(t);this.steel.EventEmitter=s}.call(this),function(){/*!
  * Polyfill from Google's Closure Library.
  * Copyright 2013 The Closure Library Authors. All Rights Reserved.
  */
"use strict";var e=this.steel.core,t={};t.throwException=function(e){t.nextTick(function(){throw e})},t.run=function(e,n){t.run.workQueueScheduled_||(t.nextTick(t.run.processWorkQueue),t.run.workQueueScheduled_=!0),t.run.workQueue_.push(new t.run.WorkItem_(e,n))},t.run.workQueueScheduled_=!1,t.run.workQueue_=[],t.run.processWorkQueue=function(){for(;t.run.workQueue_.length;){var e=t.run.workQueue_;t.run.workQueue_=[];for(var n=0;n<e.length;n++){var s=e[n];try{s.fn.call(s.scope)}catch(a){t.throwException(a)}}}t.run.workQueueScheduled_=!1},t.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},t.nextTick=function(n,s){var a=n;return s&&(a=n.bind(s)),a=t.nextTick.wrapCallback_(a),e.isFunction(window.setImmediate)?void window.setImmediate(a):(t.nextTick.setImmediate_||(t.nextTick.setImmediate_=t.nextTick.getSetImmediateEmulator_()),void t.nextTick.setImmediate_(a))},t.nextTick.setImmediate_=null,t.nextTick.getSetImmediateEmulator_=function(){var e=window.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var s="callImmediate"+Math.random(),a=t.location.protocol+"//"+t.location.host,l=function(e){(e.origin===a||e.data===s)&&this.port1.onmessage()}.bind(this);t.addEventListener("message",l,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(s,a)}}}),"undefined"!=typeof e){var t=new e,n={},s=n;return t.port1.onmessage=function(){n=n.next;var e=n.cb;n.cb=null,e()},function(e){s.next={cb:e},s=s.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){setTimeout(e,0)}},t.nextTick.wrapCallback_=function(e){return e},this.steel.async=t}.call(this),function(){"use strict";var e=this.steel.array,t=this.steel.core,n=this.steel.object,s=this.steel.EventEmitter,a=this.steel.async,l=function(s){function l(e){babelHelpers.classCallCheck(this,l),babelHelpers.get(Object.getPrototypeOf(l.prototype),"constructor",this).call(this),this.scheduledBatchData_=null,this.attrsInfo_={},this.setShouldUseFacade(!0),this.mergeInvalidAttrs_(),this.addAttrsFromStaticHint_(e)}return babelHelpers.inherits(l,s),babelHelpers.createClass(l,[{key:"addAttr",value:function(e,t,n){this.buildAttrInfo_(e,t,n),Object.defineProperty(this,e,this.buildAttrPropertyDef_(e))}},{key:"addAttrs",value:function(e,t,n){t=t||{};for(var s=Object.keys(e),a={},l=0;l<s.length;l++){var i=s[l];this.buildAttrInfo_(i,e[i],t[i]),a[i]=this.buildAttrPropertyDef_(i)}n!==!1&&Object.defineProperties(n||this,a)}},{key:"addAttrsFromStaticHint_",value:function(e){var t=this.constructor,n=!1;l.mergeAttrsStatic(t)&&(n=t.prototype),this.addAttrs(t.ATTRS_MERGED,e,n)}},{key:"assertValidAttrName_",value:function(e){if(this.constructor.INVALID_ATTRS_MERGED[e])throw new Error("It's not allowed to create an attribute with the name \""+e+'".')}},{key:"buildAttrInfo_",value:function(e,t,n){this.assertValidAttrName_(e),this.attrsInfo_[e]={config:t||{},initialValue:n,state:l.States.UNINITIALIZED}}},{key:"buildAttrPropertyDef_",value:function(e){return{configurable:!0,enumerable:!0,get:function(){return this.getAttrValue_(e)},set:function(t){this.setAttrValue_(e,t)}}}},{key:"callFunction_",value:function(e,n){return t.isString(e)?this[e].apply(this,n):t.isFunction(e)?e.apply(this,n):void 0}},{key:"callSetter_",value:function(e,t){var n=this.attrsInfo_[e],s=n.config;return s.setter&&(t=this.callFunction_(s.setter,[t])),t}},{key:"callValidator_",value:function(e,t){var n=this.attrsInfo_[e],s=n.config;return s.validator?this.callFunction_(s.validator,[t]):!0}},{key:"canSetAttribute",value:function(e){var t=this.attrsInfo_[e];return!t.config.writeOnce||!t.written}},{key:"disposeInternal",value:function(){babelHelpers.get(Object.getPrototypeOf(l.prototype),"disposeInternal",this).call(this),this.attrsInfo_=null,this.scheduledBatchData_=null}},{key:"emitBatchEvent_",value:function(){if(!this.isDisposed()){var e=this.scheduledBatchData_;this.scheduledBatchData_=null,this.emit("attrsChanged",e)}}},{key:"get",value:function(e){return this[e]}},{key:"getAttrConfig",value:function(e){return(this.attrsInfo_[e]||{}).config}},{key:"getAttrs",value:function(e){for(var t={},n=e||this.getAttrNames(),s=0;s<n.length;s++)t[n[s]]=this[n[s]];return t}},{key:"getAttrNames",value:function(){return Object.keys(this.attrsInfo_)}},{key:"getAttrValue_",value:function(e){return this.initAttr_(e),this.attrsInfo_[e].value}},{key:"informChange_",value:function(e,t){if(this.shouldInformChange_(e,t)){var n={attrName:e,newVal:this[e],prevVal:t};this.emit(e+"Changed",n),this.scheduleBatchEvent_(n)}}},{key:"initAttr_",value:function(e){var t=this.attrsInfo_[e];t.state===l.States.UNINITIALIZED&&(t.state=l.States.INITIALIZING,this.setInitialValue_(e),t.written||(t.state=l.States.INITIALIZING_DEFAULT,this.setDefaultValue_(e)),t.state=l.States.INITIALIZED)}},{key:"mergeInvalidAttrs_",value:function(){t.mergeSuperClassesProperty(this.constructor,"INVALID_ATTRS",function(t){return e.flatten(t).reduce(function(e,t){return t&&(e[t]=!0),e},{})})}},{key:"removeAttr",value:function(e){this.attrsInfo_[e]=null,delete this[e]}},{key:"scheduleBatchEvent_",value:function(e){this.scheduledBatchData_||(a.nextTick(this.emitBatchEvent_,this),this.scheduledBatchData_={changes:{}});var t=e.attrName,n=this.scheduledBatchData_.changes;n[t]?n[t].newVal=e.newVal:n[t]=e}},{key:"set",value:function(e,t){this[e]=t}},{key:"setAttrs",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)this[t[n]]=e[t[n]]}},{key:"setAttrValue_",value:function(e,t){if(this.canSetAttribute(e)&&this.validateAttrValue_(e,t)){var n=this.attrsInfo_[e];void 0===n.initialValue&&n.state===l.States.UNINITIALIZED&&(n.state=l.States.INITIALIZED);var s=this[e];n.value=this.callSetter_(e,t),n.written=!0,this.informChange_(e,s)}}},{key:"setDefaultValue_",value:function(e){var t=this.attrsInfo_[e].config;this[e]=void 0!==t.value?t.value:this.callFunction_(t.valueFn)}},{key:"setInitialValue_",value:function(e){var t=this.attrsInfo_[e];void 0!==t.initialValue&&(this[e]=t.initialValue,t.initialValue=void 0)}},{key:"shouldInformChange_",value:function(e,n){var s=this.attrsInfo_[e];return s.state===l.States.INITIALIZED&&(t.isObject(n)||n!==this[e])}},{key:"validateAttrValue_",value:function(e,t){var n=this.attrsInfo_[e];return n.state===l.States.INITIALIZING_DEFAULT||this.callValidator_(e,t)}}],[{key:"mergeAttrs_",value:function(e){return n.mixin.apply(null,[{}].concat(e.reverse()))}},{key:"mergeAttrsStatic",value:function(e){return t.mergeSuperClassesProperty(e,"ATTRS",l.mergeAttrs_)}}]),l}(s);l.INVALID_ATTRS=["attrs"],l.States={UNINITIALIZED:0,INITIALIZING:1,INITIALIZING_DEFAULT:2,INITIALIZED:3},this.steel.Attribute=l}.call(this),function(){"use strict";var e=this.steel.dom,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"checkAttrOrderChange",value:function(){if(void 0===t.attrOrderChange_){var n='<div data-component="" data-ref=""></div>',s=document.createElement("div");e.append(s,n),t.attrOrderChange_=n!==s.innerHTML}return t.attrOrderChange_}}]),t}();t.attrOrderChange_=void 0,this.steel.features=t}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"collapseBreakingSpaces",value:function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}},{key:"hashCode",value:function(e){for(var t=0,n=0,s=e.length;s>n;n++)t=31*t+e.charCodeAt(n),t%=4294967296;return t}},{key:"replaceInterval",value:function(e,t,n,s){return e.substring(0,t)+s+e.substring(n)}}]),e}();this.steel.string=e}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.string,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"compress",value:function(e){var t={};return e=n.preserveBlocks_(e,t),e=n.simplifyDoctype_(e),e=n.removeComments_(e),e=n.removeIntertagSpaces_(e),e=n.collapseBreakingSpaces_(e),e=n.removeSpacesInsideTags_(e),e=n.removeSurroundingSpaces_(e),e=n.returnBlocks_(e,t),e.trim()}},{key:"collapseBreakingSpaces_",value:function(e){return t.collapseBreakingSpaces(e)}},{key:"lookupPossibleTagBoundary_",value:function(e,t){var n=e.indexOf(t);return n>-1&&(n+=e.substring(n).indexOf(">")+1),n}},{key:"preserveBlocks_",value:function(e,t){return e=n.preserveOuterHtml_(e,"<!--[if","<![endif]-->",t),e=n.preserveInnerHtml_(e,"<code","</code",t),e=n.preserveInnerHtml_(e,"<pre","</pre",t),e=n.preserveInnerHtml_(e,"<script","</script",t),e=n.preserveInnerHtml_(e,"<style","</style",t),e=n.preserveInnerHtml_(e,"<textarea","</textarea",t)}},{key:"preserveInnerHtml_",value:function(e,t,s,a){for(var l=n.lookupPossibleTagBoundary_(e,t);l>-1;){var i=e.indexOf(s);e=n.preserveInterval_(e,l,i,a),e=e.replace(t,"%%%~1~%%%"),e=e.replace(s,"%%%~2~%%%"),l=n.lookupPossibleTagBoundary_(e,t)}return e=e.replace(/%%%~1~%%%/g,t),e=e.replace(/%%%~2~%%%/g,s)}},{key:"preserveInterval_",value:function(n,s,a,l){var i="%%%~BLOCK~"+e.getUid()+"~%%%";return l[i]=n.substring(s,a),t.replaceInterval(n,s,a,i)}},{key:"preserveOuterHtml_",value:function(e,t,s,a){for(var l=e.indexOf(t);l>-1;){var i=e.indexOf(s)+s.length;e=n.preserveInterval_(e,l,i,a),l=e.indexOf(t)}return e}},{key:"removeComments_",value:function(e){var t={};return e=n.preserveOuterHtml_(e,"<![CDATA[","]]>",t),e=n.preserveOuterHtml_(e,"<!--","-->",t),e=n.replacePreservedBlocks_(e,t,"")}},{key:"removeIntertagSpaces_",value:function(e){return e=e.replace(n.Patterns.INTERTAG_CUSTOM_CUSTOM,"~%%%%%%~"),e=e.replace(n.Patterns.INTERTAG_CUSTOM_TAG,"~%%%<"),e=e.replace(n.Patterns.INTERTAG_TAG,"><"),e=e.replace(n.Patterns.INTERTAG_TAG_CUSTOM,">%%%~")}},{key:"removeSpacesInsideTags_",value:function(e){return e=e.replace(n.Patterns.TAG_END_SPACES,"$1$2"),e=e.replace(n.Patterns.TAG_QUOTE_SPACES,"=$1$2$3")}},{key:"removeSurroundingSpaces_",value:function(e){return e.replace(n.Patterns.SURROUNDING_SPACES,"$1")}},{key:"replacePreservedBlocks_",value:function(e,t,n){for(var s in t)e=e.replace(s,n);return e}},{key:"simplifyDoctype_",value:function(e){var t={};return e=n.preserveOuterHtml_(e,"<!DOCTYPE",">",t),e=n.replacePreservedBlocks_(e,t,"<!DOCTYPE html>")}},{key:"returnBlocks_",value:function(e,t){for(var n in t)e=e.replace(n,t[n]);return e}}]),n}();n.Patterns={INTERTAG_CUSTOM_CUSTOM:/~%%%\s+%%%~/g,INTERTAG_TAG_CUSTOM:/>\s+%%%~/g,INTERTAG_CUSTOM_TAG:/~%%%\s+</g,INTERTAG_TAG:/>\s+</g,SURROUNDING_SPACES:/\s*(<[^>]+>)\s*/g,TAG_END_SPACES:/(<(?:[^>]+?))(?:\s+?)(\/?>)/g,TAG_QUOTE_SPACES:/\s*=\s*(["']?)\s*(.*?)\s*(\1)/g},this.steel.html=n}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=this.steel.Disposable,n=function(t){function n(){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.nextComponentData_={}}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"addComponent",value:function(e){n.components[e.id]=e}},{key:"createComponent",value:function(t,s){var a=n.components[s];if(!a){var l=e.getConstructor(t),i=this.getNextComponentData(s);i.element="#"+s,a=new l(i)}return a}},{key:"getNextComponentData",value:function(e){var t=this.nextComponentData_[e]||{};return t.id=e,t}},{key:"setNextComponentData",value:function(e,t){this.nextComponentData_[e]=t}},{key:"updateComponent",value:function(e){var t=n.components[e];if(t){var s=this.getNextComponentData(e);t.setAttrs(s)}return t}}]),n}(t);n.components={},this.steel.ComponentCollector=n}.call(this),function(){"use strict";var e=this.steel.dom,t=this.steel.Disposable,n=function(t){function n(e,t,s,a){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.blacklist_=s||{},this.originEmitter_=e,this.proxiedEvents_={},this.targetEmitter_=t,this.whitelist_=a,this.startProxy_()}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"disposeInternal",value:function(){var e=this.originEmitter_.removeEventListener?"removeEventListener":"removeListener";for(var t in this.proxiedEvents_)this.originEmitter_[e](t,this.proxiedEvents_[t]);this.proxiedEvents_=null,this.originEmitter_=null,this.targetEmitter_=null}},{key:"proxyEvent_",value:function(e){if(this.shouldProxyEvent_(e)){var t=this;this.proxiedEvents_[e]=function(){var n=[e].concat(Array.prototype.slice.call(arguments,0));t.targetEmitter_.emit.apply(t.targetEmitter_,n)};var n=this.originEmitter_.addEventListener?"addEventListener":"on";this.originEmitter_[n](e,this.proxiedEvents_[e])}}},{key:"shouldProxyEvent_",value:function(t){return this.whitelist_&&!this.whitelist_[t]?!1:this.blacklist_[t]?!1:!this.proxiedEvents_[t]&&(!(this.originEmitter_.removeEventListener||this.originEmitter_.addEventListener)||e.supportsEvent(this.originEmitter_,t))}},{key:"startProxy_",value:function(){this.targetEmitter_.on("newListener",this.proxyEvent_.bind(this))}}]),n}(t);this.steel.EventEmitterProxy=n}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.ComponentCollector,n=this.steel.Disposable,s=function(n){function s(e){if(babelHelpers.classCallCheck(this,s),babelHelpers.get(Object.getPrototypeOf(s.prototype),"constructor",this).call(this),!e)throw new Error("The component instance is mandatory");this.component_=e,this.eventHandles_={},this.groupHasListener_={}}return babelHelpers.inherits(s,n),babelHelpers.createClass(s,[{key:"attachListener_",value:function(e,t,n){var s="[data-on"+e+'="'+t+'"]';if(this.groupHasListener_[n][s]=!0,!this.eventHandles_[s]){var a=this.getListenerFn(t);a&&(this.eventHandles_[s]=this.component_.delegate(e,s,this.onEvent_.bind(this,a)))}}},{key:"attachListeners",value:function(t,n){e.isString(t)&&(this.groupHasListener_[n]={},this.attachListenersFromHtml_(t,n))}},{key:"attachListenersFromHtml_",value:function(e,t){if(-1!==e.indexOf("data-on"))for(var n=/data-on([a-z]+)=['"]([^'"]+)['"]/g,s=n.exec(e);s;)this.attachListener_(s[1],s[2],t),s=n.exec(e)}},{key:"detachAllListeners",value:function(){for(var e in this.eventHandles_)this.eventHandles_[e]&&this.eventHandles_[e].removeListener();this.eventHandles_={},this.listenerCounts_={}}},{key:"detachUnusedListeners",value:function(){for(var e in this.eventHandles_)if(this.eventHandles_[e]){var t=!0;for(var n in this.groupHasListener_)if(this.groupHasListener_[n][e]){t=!1;break}t&&(this.eventHandles_[e].removeListener(),this.eventHandles_[e]=null)}}},{key:"disposeInternal",value:function(){this.detachAllListeners(),this.component_=null}},{key:"getListenerFn",value:function(n){var s,a=n.split(":");return 2===a.length&&(n=a[1],s=t.components[a[0]]),s=s||this.component_,e.isFunction(s[n])?s[n].bind(s):void 0}},{key:"onEvent_",value:function(e,t){return t.handledByComponent&&t.handledByComponent!==this.component_?void 0:(t.handledByComponent=this.component_,e(t))}}]),s}(n);this.steel.EventsCollector=s}.call(this),function(){"use strict";var e=this.steel.array,t=this.steel.core,n=this.steel.dom,s=this.steel.features,a=this.steel.html,l=this.steel.object,i=this.steel.string,o=this.steel.Attribute,r=this.steel.ComponentCollector,c=this.steel.EventEmitterProxy,u=this.steel.EventHandler,d=this.steel.EventsCollector,h=function(o){function r(n){babelHelpers.classCallCheck(this,r),babelHelpers.get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,n),this.collectedSurfaces_=[],this.components={},this.decorating_=!1,this.delegateEventHandler_=null,this.elementEventProxy_=null,this.eventsAttrHandler_=new u,this.eventsCollector_=new d(this),this.generatedIdCount_={},this.inDocument=!1,this.surfaces_=null,this.wasRendered=!1,this.DEFAULT_ELEMENT_PARENT=document.body,t.mergeSuperClassesProperty(this.constructor,"ELEMENT_CLASSES",this.mergeElementClasses_),t.mergeSuperClassesProperty(this.constructor,"ELEMENT_TAG_NAME",e.firstDefinedValue),t.mergeSuperClassesProperty(this.constructor,"SURFACE_TAG_NAME",e.firstDefinedValue),this.addSurfacesFromStaticHint_(),this.delegateEventHandler_=new u,this.created_()}return babelHelpers.inherits(r,o),babelHelpers.createClass(r,[{key:"addListenersFromObj_",value:function(e){for(var n=Object.keys(e||{}),s=0;s<n.length;s++){var a=e[n[s]];t.isString(a)&&(a=this.eventsCollector_.getListenerFn(a)),a&&this.eventsAttrHandler_.add(this.on(n[s],a))}}},{key:"addSingleListener_",value:function(e,t,s){!this.elementEventProxy_&&n.supportsEvent(this.constructor.ELEMENT_TAG_NAME_MERGED,e)&&(this.elementEventProxy_=new c(this.element,this)),babelHelpers.get(Object.getPrototypeOf(r.prototype),"addSingleListener_",this).call(this,e,t,s)}},{key:"addSurface",value:function(e,t){var n=t||{};return this.surfaces_[e]=n,n.componentName&&this.createSubComponent_(n.componentName,e),this.cacheSurfaceRenderAttrs_(e),this}},{key:"addSurfaces",value:function(e){for(var t in e)this.addSurface(t,e[t]);return this}},{key:"addSurfacesFromStaticHint_",value:function(){t.mergeSuperClassesProperty(this.constructor,"SURFACES",this.mergeObjects_),this.surfaces_={},this.surfacesRenderAttrs_={};var e=this.constructor.SURFACES_MERGED;for(var n in e)this.addSurface(n,l.mixin({},e[n]))}},{key:"attach",value:function(e,t){return this.inDocument||(this.renderElement_(e,t),this.inDocument=!0,this.wasRendered||this.updatePlaceholderSurfaces_(),this.attached()),this}},{key:"attachInlineListeners_",value:function(){this.eventsCollector_.attachListeners(this.getElementContent_()),this.elementContent_=null}},{key:"attached",value:function(){}},{key:"buildPlaceholderSurfaceData_",value:function(e,t){return{componentName:e===r.SurfaceType.COMPONENT?t:null}}},{key:"cacheSurfaceContent",value:function(e,t){var n=this.computeSurfaceCacheState_(t),s=this.getSurface(e);s.cacheState=n}},{key:"cacheSurfaceRenderAttrs_",value:function(e){for(var t=this.getSurface(e).renderAttrs||[],n=0;n<t.length;n++)this.surfacesRenderAttrs_[t[n]]=this.surfacesRenderAttrs_[t[n]]||{},this.surfacesRenderAttrs_[t[n]][e]=!0}},{key:"clearSurfacesCache_",value:function(){for(var e in this.surfaces_)this.getSurface(e).cacheState=r.Cache.NOT_INITIALIZED}},{key:"compareCacheStates_",value:function(e,t){return e!==r.Cache.NOT_INITIALIZED&&e!==r.Cache.NOT_CACHEABLE&&e===t}},{key:"computeSurfaceCacheState_",value:function(e){return t.isString(e)?(s.checkAttrOrderChange()&&(e=this.convertHtmlToBrowserFormat_(e)),i.hashCode(e)):r.Cache.NOT_CACHEABLE}},{key:"computeSurfacesCacheStateFromDom_",value:function(){for(var e in this.surfaces_)this.getSurface(e).componentName||this.cacheSurfaceContent(e,a.compress(this.getSurfaceElement(e).innerHTML))}},{key:"convertHtmlToBrowserFormat_",value:function(e){var t=document.createElement("div");return n.append(t,e),t.innerHTML}},{key:"createPlaceholderSurface_",value:function(e,t,n,s){return e=e||this.generateSurfaceId_(t,s),this.getSurface(e)||this.addSurface(e,this.buildPlaceholderSurfaceData_(t,n)),e}},{key:"createSubComponent_",value:function(e,t){return this.components[t]=r.componentsCollector.createComponent(e,t),this.components[t]}},{key:"createSurfaceElement_",value:function(e){var t=document.createElement(this.constructor.SURFACE_TAG_NAME_MERGED);return t.id=e,t}},{key:"decorateAsSubComponent",value:function(){this.decorating_=!0,this.computeSurfacesCacheStateFromDom_(),this.renderAsSubComponent(),this.decorating_=!1}},{key:"decorateInternal",value:function(){}},{key:"delegate",value:function(e,t,s){var a=n.delegate(this.element,e,t,s);return this.delegateEventHandler_.add(a),a}},{key:"detach",value:function(){return this.inDocument&&(this.element.parentNode.removeChild(this.element),this.inDocument=!1,this.detached()),this.eventsCollector_.detachAllListeners(),this}},{key:"detached",value:function(){}},{key:"created_",value:function(){this.on("eventsChanged",this.onEventsChanged_),this.addListenersFromObj_(this.events),this.on("attrsChanged",this.handleAttributesChanges_),r.componentsCollector.addComponent(this)}},{key:"decorate",value:function(){if(this.inDocument)throw new Error(r.Error.ALREADY_RENDERED);return this.decorating_=!0,this.decorateInternal(),this.replaceSurfacePlaceholders_(this.getElementContent_()),this.computeSurfacesCacheStateFromDom_(),this.renderSurfacesContent_(this.surfaces_),this.attachInlineListeners_(),this.syncAttrs_(),this.attach(),this.decorating_=!1,this.wasRendered=!0,this}},{key:"disposeInternal",value:function(){this.detach(),this.elementEventProxy_&&(this.elementEventProxy_.dispose(),this.elementEventProxy_=null),this.delegateEventHandler_.removeAllListeners(),this.delegateEventHandler_=null,this.components=null,this.generatedIdCount_=null,this.surfaces_=null,this.surfacesRenderAttrs_=null,babelHelpers.get(Object.getPrototypeOf(r.prototype),"disposeInternal",this).call(this)}},{key:"syncAttrs_",value:function(){for(var e=this.getAttrNames(),t=0;t<e.length;t++)this.fireAttrChange_(e[t])}},{key:"syncAttrsFromChanges_",value:function(e){for(var t in e)this.fireAttrChange_(t,e[t])}},{key:"findElementById_",value:function(e){return document.getElementById(e)||this.element.querySelector("#"+e)}},{key:"fireAttrChange_",value:function(e,n){var s=this["sync"+e.charAt(0).toUpperCase()+e.slice(1)];t.isFunction(s)&&(n||(n={newVal:this[e],prevVal:void 0}),s.call(this,n.newVal,n.prevVal))}},{key:"generateSurfaceId_",value:function(e,t){var n=t||"",s=n?n+"-":"";this.generatedIdCount_[n]=(this.generatedIdCount_[n]||0)+1;var a=s+e+this.generatedIdCount_[n];return e===r.SurfaceType.COMPONENT?this.makeSurfaceId_(a):a}},{key:"getComponentHtml",value:function(e){return this.getWrapperHtml_(this.constructor.ELEMENT_TAG_NAME_MERGED,this.id,e)}},{key:"getElementContent",value:function(){}},{key:"getElementContent_",value:function(){return this.elementContent_=this.elementContent_||this.getElementContent(),this.elementContent_}},{key:"getElementExtendedContent",value:function(){return this.replaceSurfacePlaceholders_(this.getElementContent_())}},{key:"getModifiedSurfacesFromChanges_",value:function(e){var t=[];for(var n in e)t.push(this.surfacesRenderAttrs_[n]);return l.mixin.apply(null,t)}},{key:"getNonComponentSurfaceHtml",value:function(e,t){var n=this.makeSurfaceId_(e);return this.getWrapperHtml_(this.constructor.SURFACE_TAG_NAME_MERGED,n,t)}},{key:"getSurface",value:function(e){return this.surfaces_[e]||null}},{key:"getSurfaceContent",value:function(){}},{key:"getSurfaceContent_",value:function(e){var t=this.getSurface(e);return t.componentName?this.components[e].wasRendered?"":this.components[e].getElementExtendedContent():this.getSurfaceContent(e)}},{key:"getSurfaceElement",value:function(e){var t=this.getSurface(e);if(!t)return null;if(!t.element)if(t.componentName)t.element=this.components[e].element;else{var n=this.makeSurfaceId_(e);t.element=this.findElementById_(n)||this.createSurfaceElement_(n)}return t.element}},{key:"getSurfaceHtml",value:function(e,t){var n=this.getSurface(e);return n.componentName?this.components[e].getComponentHtml(t):this.getNonComponentSurfaceHtml(e,t)}},{key:"getWrapperHtml_",value:function(e,t,n){return"<"+e+' id="'+t+'">'+n+"</"+e+">"}},{key:"getSurfaces",value:function(){return this.surfaces_}},{key:"handleAttributesChanges_",value:function(e){this.inDocument&&this.renderSurfacesContent_(this.getModifiedSurfacesFromChanges_(e.changes)),this.syncAttrsFromChanges_(e.changes)}},{key:"onEventsChanged_",value:function(e){this.eventsAttrHandler_.removeAllListeners(),this.addListenersFromObj_(e.newVal)}},{key:"makeId_",value:function(){return"metal_c_"+t.getUid(this)}},{key:"makeSurfaceId_",value:function(e){return this.id+"-"+e}},{key:"mergeElementClasses_",value:function(e){return e.filter(function(e){return e}).join(" ")}},{key:"mergeObjects_",value:function(e){return l.mixin.apply(null,[{}].concat(e.reverse()))}},{key:"removeSurface",value:function(e){var t=this.getSurfaceElement(e);return t&&t.parentNode&&t.parentNode.removeChild(t),delete this.surfaces_[e],this}},{key:"render",value:function(e,t){if(this.wasRendered)throw new Error(r.Error.ALREADY_RENDERED);return this.renderInternal(),this.clearSurfacesCache_(),this.renderSurfacesContent_(this.surfaces_),this.attachInlineListeners_(),this.syncAttrs_(),this.attach(e,t),this.wasRendered=!0,this}},{key:"renderAsSubComponent",value:function(){this.attachInlineListeners_(),this.syncAttrs_(),this.attach(),this.wasRendered=!0}},{key:"renderComponentSurface_",value:function(e,t){var s=this.components[e];if(s.wasRendered)r.componentsCollector.updateComponent(e);else if(t){var a=s.element;n.isEmpty(a)&&n.append(a,t),this.decorating_?s.decorateAsSubComponent():s.renderAsSubComponent()}else s.render()}},{key:"renderElement_",value:function(e,t){var s=this.element;if(s.id=this.id,t||!s.parentNode){var a=n.toElement(e)||this.DEFAULT_ELEMENT_PARENT;a.insertBefore(s,n.toElement(t))}}},{key:"renderInternal",value:function(){var e=this.getElementExtendedContent();e&&n.append(this.element,e)}},{key:"renderPlaceholderSurfaceContents_",value:function(e,t){var n=this;e.replace(r.SURFACE_REGEX,function(e,s,a){return a=a||n.generateSurfaceId_(s,t),n.renderSurfaceContent(a),e})}},{key:"renderSurfaceContent",value:function(e,n,s){var a=this.getSurface(e);if(a.componentName)return void this.renderComponentSurface_(e,n);var l=n||this.getSurfaceContent_(e);if(t.isDefAndNotNull(l)){var i=a.cacheState,o=s||l;this.cacheSurfaceContent(e,this.decorating_?l:o);var r=this.compareCacheStates_(a.cacheState,i);this.decorating_&&this.cacheSurfaceContent(e,o),r?(this.decorating_&&this.eventsCollector_.attachListeners(o,e),this.renderPlaceholderSurfaceContents_(l,e)):(this.eventsCollector_.attachListeners(o,e),this.replaceSurfaceContent_(e,l))}}},{key:"renderSurfacesContent_",value:function(e){this.generatedIdCount_={};for(var t in e)this.getSurface(t).handled||this.renderSurfaceContent(t);this.wasRendered&&(this.updatePlaceholderSurfaces_(),this.eventsCollector_.detachUnusedListeners())}},{key:"replaceSurfaceContent_",value:function(e,t){t=this.replaceSurfacePlaceholders_(t,e);var s=this.getSurfaceElement(e);n.removeChildren(s),n.append(s,t)}},{key:"replaceSurfacePlaceholders_",value:function(e,n){if(!t.isString(e))return e;var s=this;return e.replace(r.SURFACE_REGEX,function(e,t,a,l){a=s.createPlaceholderSurface_(a,t,l,n),s.getSurface(a).handled=!0;var i=s.getSurfaceContent_(a),o=s.replaceSurfacePlaceholders_(i,a),r=s.getSurfaceHtml(a,o);return s.collectedSurfaces_.push({cacheContent:i,content:o,surfaceId:a}),r})}},{key:"setterElementFn_",value:function(e){var t=n.toElement(e);return t||(t=this.valueElementFn_()),t}},{key:"syncElementClasses",value:function(e,t){var s=this.constructor.ELEMENT_CLASSES_MERGED;e&&(s=s+" "+e),t&&n.removeClasses(this.element,t),n.addClasses(this.element,s)}},{key:"syncVisible",value:function(e){this.element.style.display=e?"":"none"}},{key:"updatePlaceholderSurface_",value:function(e){var t=e.surfaceId,s=this.getSurface(t);if(this.decorating_||s.element||s.componentName){var a=s.componentName?t:this.makeSurfaceId_(t),l=this.findElementById_(a);n.replace(l,this.getSurfaceElement(t)),this.renderSurfaceContent(t,e.content,e.cacheContent)}else this.cacheSurfaceContent(t,e.cacheContent),this.eventsCollector_.attachListeners(e.cacheContent,t)}},{key:"updatePlaceholderSurfaces_",value:function(){for(var e=this.collectedSurfaces_.length-1;e>=0;e--)this.updatePlaceholderSurface_(this.collectedSurfaces_[e]),this.getSurface(this.collectedSurfaces_[e].surfaceId).handled=!1;this.collectedSurfaces_=[]}},{key:"validatorElementFn_",value:function(e){return t.isElement(e)||t.isString(e)}},{key:"validatorElementClassesFn_",value:function(e){return t.isString(e)}},{key:"validatorEventsFn_",value:function(e){return!t.isDefAndNotNull(e)||t.isObject(e)}},{key:"validatorIdFn_",value:function(e){return t.isString(e)}},{key:"valueElementFn_",value:function(){return document.createElement(this.constructor.ELEMENT_TAG_NAME_MERGED)}},{key:"valueIdFn_",value:function(){var e=this.element;return e&&e.id?e.id:this.makeId_()}}]),r}(o);h.componentsCollector=new r,h.ATTRS={element:{setter:"setterElementFn_",validator:"validatorElementFn_",valueFn:"valueElementFn_",writeOnce:!0},elementClasses:{validator:"validatorElementClassesFn_"},events:{validator:"validatorEventsFn_",value:null},id:{validator:"validatorIdFn_",valueFn:"valueIdFn_",writeOnce:!0},visible:{validator:t.isBoolean,value:!0}},h.ELEMENT_CLASSES="component",h.ELEMENT_TAG_NAME="div",h.SURFACE_REGEX=/\%\%\%\%~(s|c)(?:-([^~:]+))?(?::([^~]+))?~\%\%\%\%/g,h.SURFACE_TAG_NAME="div",h.Cache={NOT_CACHEABLE:-1,NOT_INITIALIZED:-2},h.Error={ALREADY_RENDERED:"Component already rendered"},h.SurfaceType={COMPONENT:"c",NORMAL:"s"},h.INVALID_ATTRS=["components","elementContent"],this.steel.Component=h}.call(this),function(){"use strict";var e,t=this.steel.core,n=this.steel.dom,s=this.steel.object,a=this.steel.Attribute,l=this.steel.Component;"object"==typeof soy&&(e=soy.$$getDelegateFn);var i=function(i){function o(e){babelHelpers.classCallCheck(this,o),babelHelpers.get(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e),t.mergeSuperClassesProperty(this.constructor,"TEMPLATES",this.mergeObjects_),this.addSurfacesFromTemplates_(),this.surfaceBeingRendered_=null,this.firstSurfaceFound_={},this.nextSurfaceCallData_={}}return babelHelpers.inherits(o,i),babelHelpers.createClass(o,[{key:"addSurfacesFromTemplates_",value:function(){for(var e=this.constructor.TEMPLATES_MERGED,t=Object.keys(e),n=0;n<t.length;n++){var s=t[n];if("content"!==s&&"__deltemplate"!==s.substr(0,13)){var a=this.getSurface(s);a||this.addSurface(s,{renderAttrs:e[s].params,templateName:s})}}}},{key:"buildComponentConfigData_",value:function(e,t){var n={id:e};for(var s in t)n[s]=t[s];return n}},{key:"buildPlaceholderSurfaceData_",value:function(e,t){var n=babelHelpers.get(Object.getPrototypeOf(o.prototype),"buildPlaceholderSurfaceData_",this).call(this,e,t);return e===l.SurfaceType.NORMAL&&(n.templateName=t),n}},{key:"buildTemplateData_",value:function(){var e=this.getAttrNames().filter(function(e){return"element"!==e});return this.getAttrs(e)}},{key:"generateSoySurfaceId_",value:function(e){return this.surfaceBeingRendered_||this.firstSurfaceFound_[e]?this.generateSurfaceId_(l.SurfaceType.NORMAL,this.surfaceBeingRendered_):(this.firstSurfaceFound_[e]=!0,e)}},{key:"getComponentHtml",value:function(e){return this.renderElementDelTemplate_(e)}},{key:"getElementContent",value:function(){return this.surfaceBeingRendered_=null,this.renderTemplateByName_("content")}},{key:"getNonComponentSurfaceHtml",value:function(e,t){return this.renderElementDelTemplate_(t,e)}},{key:"getSurfaceContent",value:function(e){var t=this.getSurface(e),n=this.nextSurfaceCallData_[e];return this.nextSurfaceCallData_[e]=null,this.surfaceBeingRendered_=e,this.renderTemplateByName_(t.templateName,n)}},{key:"handleGetDelegateFnCall_",value:function(e){var t=e.indexOf(".");return-1===t?this.handleTemplateCall_.bind(this,e):this.handleSurfaceCall_.bind(this,e.substr(t+1))}},{key:"handleSurfaceCall_",value:function(e,n){var s=n.surfaceId;return t.isDefAndNotNull(s)||(s=this.generateSoySurfaceId_(e)),this.nextSurfaceCallData_[s]=n,"%%%%~s-"+s+":"+e+"~%%%%"}},{key:"handleTemplateCall_",value:function(e,t){var n=(t||{}).id||this.generateSurfaceId_(l.SurfaceType.COMPONENT,this.surfaceBeingRendered_);return l.componentsCollector.setNextComponentData(n,this.buildComponentConfigData_(n,t)),"%%%%~c-"+n+":"+e+"~%%%%"}},{key:"renderElementDelTemplate_",value:function(e,t){var n=this.constructor.NAME;t&&(n+="."+this.getSurface(t).templateName);var s=soy.$$getDelegateFn(n,"element",!0),a={elementClasses:this.elementClasses,elementContent:o.sanitizeHtml(e||""),
id:this.id||this.makeId_(),surfaceId:t};return s(a,null,{}).content}},{key:"renderTemplate_",value:function(t,n){soy.$$getDelegateFn=this.handleGetDelegateFnCall_.bind(this);var s=t(n||this.buildTemplateData_(),null,{}).content;return soy.$$getDelegateFn=e,s}},{key:"renderTemplateByName_",value:function(e,n){var s=this.constructor.TEMPLATES_MERGED[e];return t.isFunction(s)?this.renderTemplate_(s,n):void 0}},{key:"valueElementFn_",value:function(){var e=this.getComponentHtml();if(e){var t=n.buildFragment(e),s=t.childNodes[0];return t.removeChild(s),s}return babelHelpers.get(Object.getPrototypeOf(o.prototype),"valueElementFn_",this).call(this)}}],[{key:"createComponentFromTemplate",value:function(e,t){var n=function(e){function t(){babelHelpers.classCallCheck(this,t),null!=e&&e.apply(this,arguments)}return babelHelpers.inherits(t,e),t}(o);return n.TEMPLATES={content:e},n.ATTRS={},a.mergeAttrsStatic(o),Object.keys(t||{}).forEach(function(e){o.ATTRS_MERGED[e]||(n.ATTRS[e]={})}),new n(t)}},{key:"decorateFromTemplate",value:function(e,t,n){var a=s.mixin({element:t},n);return o.createComponentFromTemplate(e,a).decorate()}},{key:"renderFromTemplate",value:function(e,t,n){var a=s.mixin({element:t},n);return o.createComponentFromTemplate(e,a).render()}},{key:"sanitizeHtml",value:function(e){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e)}}]),o}(l);i.TEMPLATES={},this.steel.SoyComponent=i}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=this.steel.core,n=this.steel.dom,s=this.steel.EventHandler,a=this.steelNamed.Promise.CancellablePromise,l=this.steel.SoyComponent,i=function(e){function l(e){babelHelpers.classCallCheck(this,l),babelHelpers.get(Object.getPrototypeOf(l.prototype),"constructor",this).call(this,e),this.eventHandler_=new s,this.on("select",this.select)}return babelHelpers.inherits(l,e),babelHelpers.createClass(l,[{key:"attached",value:function(){this.inputElement&&this.eventHandler_.add(n.on(this.inputElement,"input",this.handleUserInput_.bind(this)))}},{key:"detached",value:function(){this.eventHandler_.removeAllListeners()}},{key:"handleUserInput_",value:function(){this.request(this.inputElement.value)}},{key:"request",value:function(e){var t=this;return this.pendingRequest&&this.pendingRequest.cancel("Cancelled by another request"),this.pendingRequest=a.resolve().then(function(){return t.data(e)}).then(function(e){return Array.isArray(e)?e.map(t.format.bind(t)):void 0}),this.pendingRequest}},{key:"setData_",value:function(e){return t.isFunction(e)?e:function(){return e}}}]),l}(l);i.ATTRS={data:{setter:"setData_"},format:{value:t.identityFunction,validator:t.isFunction},inputElement:{setter:n.toElement},select:{value:function(e){this.inputElement.value=e.textPrimary,this.inputElement.focus()},validator:t.isFunction}},e.register("AutocompleteBase",i),this.steel.AutocompleteBase=i}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"intersectRect",value:function(e,t,n,s,a,l,i,o){return!(a>n||e>i||l>s||t>o)}}]),e}();this.steel.Geometry=e}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.Geometry,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"getClientHeight",value:function(e){return this.getClientSize_(e,"Height")}},{key:"getClientSize_",value:function(t,n){var s=t;return e.isWindow(t)&&(s=t.document.documentElement),e.isDocument(t)&&(s=t.documentElement),s["client"+n]}},{key:"getClientWidth",value:function(e){return this.getClientSize_(e,"Width")}},{key:"getDocumentRegion_",value:function(e){var t=this.getHeight(e),n=this.getWidth(e);return this.makeRegion(t,t,0,n,0,n)}},{key:"getHeight",value:function(e){return this.getSize_(e,"Height")}},{key:"getRegion",value:function(t){return e.isDocument(t)||e.isWindow(t)?this.getDocumentRegion_(t):this.makeRegionFromBoundingRect_(t.getBoundingClientRect())}},{key:"getScrollLeft",value:function(t){return e.isWindow(t)?t.pageXOffset:e.isDocument(t)?t.defaultView.pageXOffset:t.scrollLeft}},{key:"getScrollTop",value:function(t){return e.isWindow(t)?t.pageYOffset:e.isDocument(t)?t.defaultView.pageYOffset:t.scrollTop}},{key:"getSize_",value:function(t,n){if(e.isWindow(t))return this.getClientSize_(t,n);if(e.isDocument(t)){var s=t.documentElement;return Math.max(t.body["scroll"+n],s["scroll"+n],t.body["offset"+n],s["offset"+n],s["client"+n])}return Math.max(t["client"+n],t["scroll"+n],t["offset"+n])}},{key:"getWidth",value:function(e){return this.getSize_(e,"Width")}},{key:"intersectRegion",value:function(e,n){return t.intersectRect(e.top,e.left,e.bottom,e.right,n.top,n.left,n.bottom,n.right)}},{key:"insideRegion",value:function(e,t){return t.top>=e.top&&t.bottom<=e.bottom&&t.right<=e.right&&t.left>=e.left}},{key:"insideViewport",value:function(e){return this.insideRegion(this.getRegion(window),e)}},{key:"intersection",value:function(e,t){if(!this.intersectRegion(e,t))return null;var n=Math.min(e.bottom,t.bottom),s=Math.min(e.right,t.right),a=Math.max(e.left,t.left),l=Math.max(e.top,t.top);return this.makeRegion(n,n-l,a,s,l,s-a)}},{key:"makeRegion",value:function(e,t,n,s,a,l){return{bottom:e,height:t,left:n,right:s,top:a,width:l}}},{key:"makeRegionFromBoundingRect_",value:function(e){return this.makeRegion(e.bottom,e.height,e.left,e.right,e.top,e.width)}}]),n}();this.steel.Position=n}.call(this),function(){"use strict";var e=this.steel.Position,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"align",value:function(e,t,n){var s=this.getAlignBestRegion(e,t,n),a=window.getComputedStyle(e,null);if("fixed"!==a.getPropertyValue("position")){s.top+=window.pageYOffset,s.left+=window.pageXOffset;for(var l=e;l=l.offsetParent;)s.top-=l.offsetTop,s.left-=l.offsetLeft}e.style.top=s.top+"px",e.style.left=s.left+"px"}},{key:"getAlignBestRegion",value:function(t,n,s){for(var a=0,l=s,i=this.getAlignRegion(t,n,l),o=l,r=i,c=e.getRegion(window),u=0;4>u;){if(e.intersectRegion(c,r)){var d=e.intersection(c,r),h=d.width*d.height;if(h>a&&(a=h,i=r,l=o),e.insideViewport(r))break}o=(s+ ++u)%4,r=this.getAlignRegion(t,n,o)}return i}},{key:"getAlignRegion",value:function(n,s,a){var l=e.getRegion(s),i=e.getRegion(n),o=0,r=0;switch(a){case t.Top:o=l.top-i.height,r=l.left+l.width/2-i.width/2;break;case t.Right:o=l.top+l.height/2-i.height/2,r=l.left+l.width;break;case t.Bottom:o=l.bottom,r=l.left+l.width/2-i.width/2;break;case t.Left:o=l.top+l.height/2-i.height/2,r=l.left-i.width}return{bottom:o+i.height,height:i.height,left:r,right:r+i.width,top:o,width:i.width}}},{key:"isValidPosition",value:function(e){return e>=0&&3>=e}}]),t}();t.Top=0,t.Right=1,t.Bottom=2,t.Left=3,this.steel.Align=t}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=e.Templates;"undefined"==typeof t.List&&(t.List={}),t.List.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("List.items"),"",!0)(e,null,n))},goog.DEBUG&&(t.List.content.soyTemplateName="Templates.List.content"),t.List.items=function(e,t,n){for(var s="",a=e.items,l=a.length,i=0;l>i;i++){var o=a[i];if(s+='<li class="list-item u-cf" data-index="'+soy.$$escapeHtmlAttribute(i)+'" data-onclick="handleClick">',o.icons){s+='<div class="list-icons u-pull-right">';for(var r=o.icons,c=r.length,u=0;c>u;u++){var d=r[u];s+='<span class="list-icon '+soy.$$escapeHtmlAttribute(d)+'"></span>'}s+="</div>"}s+=(o.avatar?'<span class="list-image u-pull-left '+soy.$$escapeHtmlAttribute(o.avatar["class"])+'">'+soy.$$escapeHtml(o.avatar.content)+"</span>":"")+'<div class="list-main-content u-pull-left"><div class="list-text-primary">'+soy.$$escapeHtml(o.textPrimary)+"</div>"+(o.textSecondary?'<div class="list-text-secondary">'+soy.$$escapeHtml(o.textSecondary)+"</div>":"")+"</div></li>"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(s)},goog.DEBUG&&(t.List.items.soyTemplateName="Templates.List.items"),t.List.__deltemplate_s35_e3f298e9=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<ul id="'+soy.$$escapeHtmlAttribute(e.id)+'-items">'+soy.$$escapeHtml(e.elementContent)+"</ul>")},goog.DEBUG&&(t.List.__deltemplate_s35_e3f298e9.soyTemplateName="Templates.List.__deltemplate_s35_e3f298e9"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List.items"),"element",0,t.List.__deltemplate_s35_e3f298e9),t.List.__deltemplate_s41_88d36183=function(e,n,s){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("List"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.List.content(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.List.__deltemplate_s41_88d36183.soyTemplateName="Templates.List.__deltemplate_s41_88d36183"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List"),"",0,t.List.__deltemplate_s41_88d36183),t.List.__deltemplate_s47_4ac84340=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="list component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.List.__deltemplate_s47_4ac84340.soyTemplateName="Templates.List.__deltemplate_s47_4ac84340"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List"),"element",0,t.List.__deltemplate_s47_4ac84340),t.List.__deltemplate_s55_605e1843=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("List.items"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.List.items(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.List.__deltemplate_s55_605e1843.soyTemplateName="Templates.List.__deltemplate_s55_605e1843"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List.items"),"",0,t.List.__deltemplate_s55_605e1843),t.List.items.params=["items"],this.steel.List={},this.steel.List.soy=t.List}.call(this),function(){"use strict";var e=this.steel.SoyComponent,t=this.steel.ComponentRegistry,n=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleClick",value:function(e){this.emit("itemSelected",e.delegateTarget)}}]),t}(e);n.ELEMENT_CLASSES="list",n.ATTRS={items:{validator:Array.isArray,valueFn:function(){return[]}}},t.register("List",n),this.steel.List=n}.call(this),function(){"use strict";var e=this.steel.AutocompleteBase,t=this.steel.ComponentRegistry,n=this.steelNamed.Promise.CancellablePromise,s=this.steel.core,a=this.steel.dom,l=this.steel.Align,i=this.steel.List,o=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){babelHelpers.get(Object.getPrototypeOf(t.prototype),"attached",this).call(this),this.list.attach(this.element),this.on("click",this.genericStopPropagation_),this.eventHandler_.add(a.on(this.inputElement,"focus",this.handleInputFocus_.bind(this))),this.eventHandler_.add(a.on(document,"click",this.handleDocClick_.bind(this)))}},{key:"detached",value:function(){babelHelpers.get(Object.getPrototypeOf(t.prototype),"detached",this).call(this),this.list.detach()}},{key:"renderInternal",value:function(){this.list=(new i).render(this.element),this.list.on("itemSelected",this.onListItemSelected_.bind(this))}},{key:"align",value:function(){this.element.style.width=this.inputElement.offsetWidth+"px",l.align(this.element,this.inputElement,l.Bottom)}},{key:"handleDocClick_",value:function(){document.activeElement!==this.inputElement&&(this.visible=!1)}},{key:"handleInputFocus_",value:function(){this.request(this.inputElement.value)}},{key:"request",value:function(e){var n=this;return babelHelpers.get(Object.getPrototypeOf(t.prototype),"request",this).call(this,e).then(function(e){e&&(e.forEach(n.assertItemObjectStructure_),n.list.items=e),n.visible=!!(e&&e.length>0)})}},{key:"onListItemSelected_",value:function(e){var t=parseInt(e.getAttribute("data-index"),10);this.emit("select",this.list.items[t]),this.visible=!1}},{key:"genericStopPropagation_",value:function(e){e.stopPropagation()}},{key:"syncVisible",value:function(e){babelHelpers.get(Object.getPrototypeOf(t.prototype),"syncVisible",this).call(this,e),e&&this.align()}},{key:"assertItemObjectStructure_",value:function(e){if(!s.isObject(e))throw new n.CancellationError("Autocomplete item must be an object");if(!e.hasOwnProperty("textPrimary"))throw new n.CancellationError("Autocomplete item must be an object with 'textPrimary' key")}}]),t}(e);o.ATTRS={format:{value:function(e){return s.isString(e)?{textPrimary:e}:e}}},o.ELEMENT_CLASSES="autocomplete autocomplete-list",t.register("Autocomplete",o),this.steel.Autocomplete=o}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=e.Templates;"undefined"==typeof t.Dropdown&&(t.Dropdown={}),t.Dropdown.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Dropdown.header"),"",!0)(e,null,n)+soy.$$getDelegateFn(soy.$$getDelTemplateId("Dropdown.body"),"",!0)(e,null,n))},goog.DEBUG&&(t.Dropdown.content.soyTemplateName="Templates.Dropdown.content"),t.Dropdown.header=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.header?soy.$$escapeHtml(e.header):"")},goog.DEBUG&&(t.Dropdown.header.soyTemplateName="Templates.Dropdown.header"),t.Dropdown.body=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.body?soy.$$escapeHtml(e.body):"")},goog.DEBUG&&(t.Dropdown.body.soyTemplateName="Templates.Dropdown.body"),t.Dropdown.__deltemplate_s13_1849d840=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<ul id="'+soy.$$escapeHtmlAttribute(e.id)+'-body" class="dropdown-menu">'+soy.$$escapeHtml(e.elementContent)+"</ul>")},goog.DEBUG&&(t.Dropdown.__deltemplate_s13_1849d840.soyTemplateName="Templates.Dropdown.__deltemplate_s13_1849d840"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Dropdown.body"),"element",0,t.Dropdown.__deltemplate_s13_1849d840),t.Dropdown.__deltemplate_s19_0db44a13=function(e,n,s){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Dropdown"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Dropdown.content(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Dropdown.__deltemplate_s19_0db44a13.soyTemplateName="Templates.Dropdown.__deltemplate_s19_0db44a13"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Dropdown"),"",0,t.Dropdown.__deltemplate_s19_0db44a13),t.Dropdown.__deltemplate_s25_8cb12604=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="dropdown component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.Dropdown.__deltemplate_s25_8cb12604.soyTemplateName="Templates.Dropdown.__deltemplate_s25_8cb12604"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Dropdown"),"element",0,t.Dropdown.__deltemplate_s25_8cb12604),t.Dropdown.__deltemplate_s33_62341603=function(e,t,n){var s="",a=e.id+"-"+(null!=e.surfaceId?e.surfaceId:"header");return s+='<div id="'+soy.$$escapeHtmlAttribute(a)+'">'+soy.$$escapeHtml(e.elementContent)+"</div>",soydata.VERY_UNSAFE.ordainSanitizedHtml(s)},goog.DEBUG&&(t.Dropdown.__deltemplate_s33_62341603.soyTemplateName="Templates.Dropdown.__deltemplate_s33_62341603"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Dropdown.header"),"element",0,t.Dropdown.__deltemplate_s33_62341603),t.Dropdown.__deltemplate_s40_9db90e38=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Dropdown.header"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Dropdown.header(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Dropdown.__deltemplate_s40_9db90e38.soyTemplateName="Templates.Dropdown.__deltemplate_s40_9db90e38"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Dropdown.header"),"",0,t.Dropdown.__deltemplate_s40_9db90e38),t.Dropdown.__deltemplate_s45_8a7848e7=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Dropdown.body"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Dropdown.body(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Dropdown.__deltemplate_s45_8a7848e7.soyTemplateName="Templates.Dropdown.__deltemplate_s45_8a7848e7"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Dropdown.body"),"",0,t.Dropdown.__deltemplate_s45_8a7848e7),t.Dropdown.header.params=["header"],t.Dropdown.body.params=["body"],this.steel.Dropdown={},this.steel.Dropdown.soy=t.Dropdown}.call(this),function(){"use strict";var e=this.steel.dom,t=this.steel.ComponentRegistry,n=this.steel.EventHandler,s=this.steel.SoyComponent,a=function(t){function s(e){babelHelpers.classCallCheck(this,s),babelHelpers.get(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,e),this.eventHandler_=new n}return babelHelpers.inherits(s,t),babelHelpers.createClass(s,[{key:"attached",value:function(){babelHelpers.get(Object.getPrototypeOf(s.prototype),"attached",this).call(this),this.eventHandler_.add(e.on(document,"click",this.handleDocClick_.bind(this)))}},{key:"detached",value:function(){babelHelpers.get(Object.getPrototypeOf(s.prototype),"detached",this).call(this),this.eventHandler_.removeAllListeners()}},{key:"close",value:function(){e.removeClasses(this.element,"open")}},{key:"isOpen",value:function(){return e.hasClass(this.element,"open")}},{key:"handleDocClick_",value:function(e){this.element.contains(e.target)||this.close()}},{key:"open",value:function(){e.addClasses(this.element,"open")}},{key:"syncPosition",value:function(t,n){n&&e.removeClasses(this.element,"drop"+n.toLowerCase()),e.addClasses(this.element,"drop"+t.toLowerCase())}},{key:"toggle",value:function(){e.toggleClasses(this.element,"open")}},{key:"validatePosition_",value:function(e){switch(e.toLowerCase()){case"up":case"down":return!0;default:return!1}}}]),s}(s);a.ATTRS={body:{},header:{},position:{value:"down",validator:"validatePosition_"}},a.ELEMENT_CLASSES="dropdown",t.register("Dropdown",a),this.steel.Dropdown=a}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=e.Templates;"undefined"==typeof t.Modal&&(t.Modal={}),t.Modal.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<div class="modal-dialog"><div class="modal-content">'+soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.header"),"",!0)(e,null,n)+soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.body"),"",!0)(e,null,n)+soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"",!0)(e,null,n)+"</div></div>")},goog.DEBUG&&(t.Modal.content.soyTemplateName="Templates.Modal.content"),t.Modal.body=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.body?soy.$$escapeHtml(e.body):"")},goog.DEBUG&&(t.Modal.body.soyTemplateName="Templates.Modal.body"),t.Modal.footer=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.footer?soy.$$escapeHtml(e.footer):"")},goog.DEBUG&&(t.Modal.footer.soyTemplateName="Templates.Modal.footer"),t.Modal.header=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.header?'<button type="button" class="close" data-onclick="hide" aria-label="Close"><span aria-hidden="true">×</span></button>'+soy.$$escapeHtml(e.header):"")},goog.DEBUG&&(t.Modal.header.soyTemplateName="Templates.Modal.header"),t.Modal.__deltemplate_s21_65c2d4d4=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<section id="'+soy.$$escapeHtmlAttribute(e.id)+'-body" class="modal-body">'+soy.$$escapeHtml(e.elementContent)+"</section>")},goog.DEBUG&&(t.Modal.__deltemplate_s21_65c2d4d4.soyTemplateName="Templates.Modal.__deltemplate_s21_65c2d4d4"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.body"),"element",0,t.Modal.__deltemplate_s21_65c2d4d4),t.Modal.__deltemplate_s27_c9897a65=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<footer id="'+soy.$$escapeHtmlAttribute(e.id)+'-footer" class="modal-footer">'+soy.$$escapeHtml(e.elementContent)+"</footer>")},goog.DEBUG&&(t.Modal.__deltemplate_s27_c9897a65.soyTemplateName="Templates.Modal.__deltemplate_s27_c9897a65"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"element",0,t.Modal.__deltemplate_s27_c9897a65),t.Modal.__deltemplate_s33_499dc9aa=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<header id="'+soy.$$escapeHtmlAttribute(e.id)+'-header" class="modal-header">'+soy.$$escapeHtml(e.elementContent)+"</header>")},goog.DEBUG&&(t.Modal.__deltemplate_s33_499dc9aa.soyTemplateName="Templates.Modal.__deltemplate_s33_499dc9aa"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.header"),"element",0,t.Modal.__deltemplate_s33_499dc9aa),t.Modal.__deltemplate_s39_45b138fb=function(e,n,s){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.content(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Modal.__deltemplate_s39_45b138fb.soyTemplateName="Templates.Modal.__deltemplate_s39_45b138fb"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal"),"",0,t.Modal.__deltemplate_s39_45b138fb),t.Modal.__deltemplate_s45_df8ef55a=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="modal component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.Modal.__deltemplate_s45_df8ef55a.soyTemplateName="Templates.Modal.__deltemplate_s45_df8ef55a"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal"),"element",0,t.Modal.__deltemplate_s45_df8ef55a),t.Modal.__deltemplate_s53_90747620=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.body"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.body(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Modal.__deltemplate_s53_90747620.soyTemplateName="Templates.Modal.__deltemplate_s53_90747620"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.body"),"",0,t.Modal.__deltemplate_s53_90747620),t.Modal.__deltemplate_s58_231e36e7=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.footer(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Modal.__deltemplate_s58_231e36e7.soyTemplateName="Templates.Modal.__deltemplate_s58_231e36e7"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"",0,t.Modal.__deltemplate_s58_231e36e7),t.Modal.__deltemplate_s63_b8354b7d=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.header"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.header(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Modal.__deltemplate_s63_b8354b7d.soyTemplateName="Templates.Modal.__deltemplate_s63_b8354b7d"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.header"),"",0,t.Modal.__deltemplate_s63_b8354b7d),t.Modal.body.params=["body"],t.Modal.footer.params=["footer"],t.Modal.header.params=["header"],this.steel.Modal={},this.steel.Modal.soy=t.Modal}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.dom,n=this.steel.ComponentRegistry,s=this.steel.SoyComponent,a=function(e){function n(e){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"disposeInternal",value:function(){t.exitDocument(this.overlayElement),babelHelpers.get(Object.getPrototypeOf(n.prototype),"disposeInternal",this).call(this)}},{key:"hide",value:function(){this.visible=!1}},{key:"show",value:function(){this.visible=!0}},{key:"syncOverlay",value:function(e){var n=e&&this.visible;t[n?"enterDocument":"exitDocument"](this.overlayElement)}},{key:"syncVisible",value:function(e){this.element.style.display=e?"block":"",this.syncOverlay(this.overlay)}},{key:"valueOverlayElementFn_",value:function(){return t.buildFragment('<div class="modal-backdrop fade in"></div>').firstChild}}]),n}(s);a.ELEMENT_CLASSES="modal",a.ATTRS={body:{},footer:{},header:{},overlay:{validator:e.isBoolean,value:!0},overlayElement:{initOnly:!0,valueFn:"valueOverlayElementFn_"}},n.register("Modal",a),this.steel.Modal=a}.call(this),function(){"use strict";var e=this.steel.Modal;this.steel.Modal=e}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=e.Templates;"undefined"==typeof t.Switcher&&(t.Switcher={}),t.Switcher.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<div class="switcher-control"><div class="switcher-control-icon"></div></div>')},goog.DEBUG&&(t.Switcher.content.soyTemplateName="Templates.Switcher.content"),t.Switcher.__deltemplate_s4_73a26937=function(e,n,s){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Switcher"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Switcher.content(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Switcher.__deltemplate_s4_73a26937.soyTemplateName="Templates.Switcher.__deltemplate_s4_73a26937"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Switcher"),"",0,t.Switcher.__deltemplate_s4_73a26937),t.Switcher.__deltemplate_s10_7e34f765=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="switcher component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.Switcher.__deltemplate_s10_7e34f765.soyTemplateName="Templates.Switcher.__deltemplate_s10_7e34f765"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Switcher"),"element",0,t.Switcher.__deltemplate_s10_7e34f765),this.steel.Switcher={},this.steel.Switcher.soy=t.Switcher}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.dom,n=this.steel.SoyComponent,s=this.steel.ComponentRegistry,a=function(e){function n(e){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"attached",value:function(){this.on("click",this.handleClick)}},{key:"handleClick",value:function(){this.checked=!this.checked}},{key:"syncChecked",value:function(e){t[e?"addClasses":"removeClasses"](this.element,"switcher-on")}}]),n}(n);a.ELEMENT_CLASSES="switcher",a.ATTRS={checked:{validator:e.isBoolean,value:!1}},s.register("Switcher",a),this.steel.Switcher=a}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=e.Templates;"undefined"==typeof t.Tooltip&&(t.Tooltip={}),t.Tooltip.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<div class="tooltip-arrow"></div>'+soy.$$getDelegateFn(soy.$$getDelTemplateId("Tooltip.inner"),"",!0)(e,null,n))},goog.DEBUG&&(t.Tooltip.content.soyTemplateName="Templates.Tooltip.content"),t.Tooltip.inner=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(e.content))},goog.DEBUG&&(t.Tooltip.inner.soyTemplateName="Templates.Tooltip.inner"),t.Tooltip.__deltemplate_s7_5f2b5f73=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<section id="'+soy.$$escapeHtmlAttribute(e.id)+'-inner" class="tooltip-inner">'+soy.$$escapeHtml(e.elementContent)+"</section>")},goog.DEBUG&&(t.Tooltip.__deltemplate_s7_5f2b5f73.soyTemplateName="Templates.Tooltip.__deltemplate_s7_5f2b5f73"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Tooltip.inner"),"element",0,t.Tooltip.__deltemplate_s7_5f2b5f73),t.Tooltip.__deltemplate_s13_8d49094e=function(e,n,s){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Tooltip"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Tooltip.content(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Tooltip.__deltemplate_s13_8d49094e.soyTemplateName="Templates.Tooltip.__deltemplate_s13_8d49094e"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Tooltip"),"",0,t.Tooltip.__deltemplate_s13_8d49094e),t.Tooltip.__deltemplate_s19_71828d2a=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="tooltip component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.Tooltip.__deltemplate_s19_71828d2a.soyTemplateName="Templates.Tooltip.__deltemplate_s19_71828d2a"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Tooltip"),"element",0,t.Tooltip.__deltemplate_s19_71828d2a),t.Tooltip.__deltemplate_s27_992d380d=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Tooltip.inner"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Tooltip.inner(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Tooltip.__deltemplate_s27_992d380d.soyTemplateName="Templates.Tooltip.__deltemplate_s27_992d380d"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Tooltip.inner"),"",0,t.Tooltip.__deltemplate_s27_992d380d),t.Tooltip.content.params=["content"],t.Tooltip.inner.params=["content"],this.steel.Tooltip={},this.steel.Tooltip.soy=t.Tooltip}.call(this),function(){"use strict";var e=this.steel.core,t=this.steel.dom,n=this.steel.Align,s=this.steel.ComponentRegistry,a=this.steel.EventHandler,l=this.steel.SoyComponent,i=function(e){function n(e){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.eventHandler_=new a}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"attached",value:function(){this.align(),this.syncTriggerEvents(this.triggerEvents)}},{key:"detached",value:function(){this.eventHandler_.removeAllListeners()}},{key:"align",value:function(e){this.syncAlignElement(e||this.alignElement)}},{key:"callAsync_",value:function(e,t){clearTimeout(this.delay_),this.delay_=setTimeout(e.bind(this),t)}},{key:"handleHide",value:function(e){var t=e.delegateTarget&&e.delegateTarget!==this.alignElement;this.callAsync_(function(){this.locked_||(t?this.alignElement=e.delegateTarget:this.visible=!1)},this.delay[1])}},{key:"handleShow",value:function(e){this.callAsync_(function(){this.alignElement=e.delegateTarget,this.visible=!0},this.delay[0])}},{key:"handleToggle",value:function(e){this.visible?this.handleHide(e):this.handleShow(e)}},{key:"lock",value:function(){this.locked_=!0}},{key:"unlock",value:function(e){this.locked_=!1,this.handleHide(e)}},{key:"renderInternal",value:function(){babelHelpers.get(Object.getPrototypeOf(n.prototype),"renderInternal",this).call(this)}},{key:"syncAlignElement",value:function(e){this.inDocument&&e&&n.Align.align(this.element,e,this.position)}},{key:"syncPosition",value:function(e){this.updatePositionCSS(e),this.syncAlignElement(this.alignElement)}},{key:"syncSelector",value:function(){this.syncTriggerEvents(this.triggerEvents)}},{key:"syncTriggerEvents",value:function(e){if(this.inDocument){this.eventHandler_.removeAllListeners();var n=this.selector;n&&(this.eventHandler_.add(this.on("mouseenter",this.lock),this.on("mouseleave",this.unlock)),
e[0]===e[1]?this.eventHandler_.add(t.delegate(document,e[0],n,this.handleToggle.bind(this))):this.eventHandler_.add(t.delegate(document,e[0],n,this.handleShow.bind(this)),t.delegate(document,e[1],n,this.handleHide.bind(this))))}}},{key:"syncVisible",value:function(e){this.element.style.opacity=e?1:"",this.align()}},{key:"updatePositionCSS",value:function(e){t.removeClasses(this.element,n.PositionClasses.join(" ")),t.addClasses(this.element,n.PositionClasses[e])}}]),n}(l);i.Align=n,i.ELEMENT_CLASSES="tooltip",i.ATTRS={alignElement:{setter:t.toElement},delay:{validator:Array.isArray,value:[500,250]},triggerEvents:{validator:Array.isArray,value:["mouseenter","mouseleave"]},selector:{validator:e.isString},content:{validator:e.isString},position:{validator:i.Align.isValidPosition,value:i.Align.Bottom}},i.PositionClasses=["top","right","bottom","left"],s.register("Tooltip",i),this.steel.Tooltip=i}.call(this),function(){"use strict";var e=this.steel.Tooltip;this.steel.Tooltip=e}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=e.Templates;"undefined"==typeof t.TooltipMenu&&(t.TooltipMenu={}),t.TooltipMenu.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"",!0)(e,null,n))},goog.DEBUG&&(t.TooltipMenu.content.soyTemplateName="Templates.TooltipMenu.content"),t.TooltipMenu.items=function(e,t,n){for(var s="",a=e.content,l=a.length,i=0;l>i;i++){var o=a[i];s+='<li class="tooltip-menu-item"><a class="tooltip-menu-link" href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(o.href?o.href:"#"))+'">'+soy.$$escapeHtml(o.content)+"</a></li>"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(s)},goog.DEBUG&&(t.TooltipMenu.items.soyTemplateName="Templates.TooltipMenu.items"),t.TooltipMenu.__deltemplate_s12_cfc546d2=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<nav id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="tooltip-menu '+soy.$$escapeHtmlAttribute(e.elementClasses?e.elementClasses:"")+' bottom" data-component>'+soy.$$escapeHtml(e.elementContent)+"</nav>")},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s12_cfc546d2.soyTemplateName="Templates.TooltipMenu.__deltemplate_s12_cfc546d2"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu"),"element",0,t.TooltipMenu.__deltemplate_s12_cfc546d2),t.TooltipMenu.__deltemplate_s20_c0ab3df3=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<ul id="'+soy.$$escapeHtmlAttribute(e.id)+'-items" class="tooltip-menu-list">'+soy.$$escapeHtml(e.elementContent)+"</ul>")},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s20_c0ab3df3.soyTemplateName="Templates.TooltipMenu.__deltemplate_s20_c0ab3df3"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"element",0,t.TooltipMenu.__deltemplate_s20_c0ab3df3),t.TooltipMenu.__deltemplate_s26_8f8c631d=function(e,n,s){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TooltipMenu"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.TooltipMenu.content(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s26_8f8c631d.soyTemplateName="Templates.TooltipMenu.__deltemplate_s26_8f8c631d"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu"),"",0,t.TooltipMenu.__deltemplate_s26_8f8c631d),t.TooltipMenu.__deltemplate_s32_8278e063=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.TooltipMenu.items(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s32_8278e063.soyTemplateName="Templates.TooltipMenu.__deltemplate_s32_8278e063"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"",0,t.TooltipMenu.__deltemplate_s32_8278e063),t.TooltipMenu.items.params=["content"],this.steel.TooltipMenu={},this.steel.TooltipMenu.soy=t.TooltipMenu}.call(this),function(){"use strict";var e=this.steel.dom,t=this.steel.Tooltip,n=this.steel.ComponentRegistry,s=function(t){function n(e){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"attached",value:function(){babelHelpers.get(Object.getPrototypeOf(n.prototype),"attached",this).call(this),this.eventHandler_.add(e.on(document,"click",this.handleDocClick_.bind(this)))}},{key:"syncContent",value:function(){}},{key:"handleDocClick_",value:function(e){this.element.contains(e.target)||(this.visible=!1)}}]),n}(t);s.ELEMENT_CLASSES_MERGED="tooltip-menu component",s.ATTRS={delay:{validator:Array.isArray,value:[0,0]},triggerEvents:{validator:Array.isArray,value:["click","click"]},content:{validator:Array.isArray,valueFn:function(){return[]}}},n.register("TooltipMenu",s),this.steel.TooltipMenu=s}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=e.Templates;"undefined"==typeof t.Treeview&&(t.Treeview={}),t.Treeview.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Treeview.nodes"),"",!0)(e,null,n))},goog.DEBUG&&(t.Treeview.content.soyTemplateName="Templates.Treeview.content"),t.Treeview.nodes=function(e,t,n){for(var s="",a=e.nodes,l=a.length,i=0;l>i;i++){var o=a[i],r=i;s+=soy.$$getDelegateFn(soy.$$getDelTemplateId("Treeview.node"),"",!0)({id:e.id,node:o,surfaceId:null!=e.parentSurfaceId?e.parentSurfaceId+"-"+r:r},null,n)}return soydata.VERY_UNSAFE.ordainSanitizedHtml(s)},goog.DEBUG&&(t.Treeview.nodes.soyTemplateName="Templates.Treeview.nodes"),t.Treeview.node=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.node?'<div class="treeview-node-wrapper '+soy.$$escapeHtmlAttribute(e.node.expanded?"expanded":"")+'"><div class="treeview-node-main clearfix '+soy.$$escapeHtmlAttribute(e.node.children?"hasChildren":"")+'" data-onclick="handleNodeClicked_">'+(e.node.children?'<div class="treeview-node-toggler"></div>':"")+'<span class="treeview-node-name">'+soy.$$escapeHtml(e.node.name)+"</span></div>"+(e.node.children?soy.$$getDelegateFn(soy.$$getDelTemplateId("Treeview.nodes"),"",!0)({id:e.id,nodes:e.node.children,parentSurfaceId:e.surfaceId},null,n):"")+"</div>":"")},goog.DEBUG&&(t.Treeview.node.soyTemplateName="Templates.Treeview.node"),t.Treeview.__deltemplate_s33_97f15e76=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<ul id="'+soy.$$escapeHtmlAttribute(e.id)+"-"+soy.$$escapeHtmlAttribute(e.surfaceId)+'" class="treeview-nodes">'+soy.$$escapeHtml(e.elementContent)+"</ul>")},goog.DEBUG&&(t.Treeview.__deltemplate_s33_97f15e76.soyTemplateName="Templates.Treeview.__deltemplate_s33_97f15e76"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Treeview.nodes"),"element",0,t.Treeview.__deltemplate_s33_97f15e76),t.Treeview.__deltemplate_s41_9bb13687=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<li id="'+soy.$$escapeHtmlAttribute(e.id)+"-"+soy.$$escapeHtmlAttribute(e.surfaceId)+'" class="treeview-node">'+soy.$$escapeHtml(e.elementContent)+"</li>")},goog.DEBUG&&(t.Treeview.__deltemplate_s41_9bb13687.soyTemplateName="Templates.Treeview.__deltemplate_s41_9bb13687"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Treeview.node"),"element",0,t.Treeview.__deltemplate_s41_9bb13687),t.Treeview.__deltemplate_s49_bcc6b7e7=function(e,n,s){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Treeview"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Treeview.content(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Treeview.__deltemplate_s49_bcc6b7e7.soyTemplateName="Templates.Treeview.__deltemplate_s49_bcc6b7e7"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Treeview"),"",0,t.Treeview.__deltemplate_s49_bcc6b7e7),t.Treeview.__deltemplate_s55_9da5f16b=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="treeview component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.Treeview.__deltemplate_s55_9da5f16b.soyTemplateName="Templates.Treeview.__deltemplate_s55_9da5f16b"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Treeview"),"element",0,t.Treeview.__deltemplate_s55_9da5f16b),t.Treeview.__deltemplate_s63_91ba2bf6=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Treeview.nodes"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Treeview.nodes(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Treeview.__deltemplate_s63_91ba2bf6.soyTemplateName="Templates.Treeview.__deltemplate_s63_91ba2bf6"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Treeview.nodes"),"",0,t.Treeview.__deltemplate_s63_91ba2bf6),t.Treeview.__deltemplate_s68_23e29483=function(e,n,s){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Treeview.node"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Treeview.node(e,null,s)),id:e.id},null,s))},goog.DEBUG&&(t.Treeview.__deltemplate_s68_23e29483.soyTemplateName="Templates.Treeview.__deltemplate_s68_23e29483"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Treeview.node"),"",0,t.Treeview.__deltemplate_s68_23e29483),t.Treeview.nodes.params=["id","nodes"],t.Treeview.node.params=["id","node","surfaceId"],this.steel.Treeview={},this.steel.Treeview.soy=t.Treeview}.call(this),function(){"use strict";var e=this.steel.ComponentRegistry,t=this.steel.SoyComponent,n=this.steel.dom,s=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){this.on("nodesChanged",this.onNodesChanged_.bind(this))}},{key:"getNodeObj",value:function(e){for(var t=this.nodes[e[0]],n=1;n<e.length;n++)t=t.children[e[n]];return t}},{key:"getNodeObjFromId_",value:function(e){var t=e.substr(this.id.length+1).split("-");return this.getNodeObj(t)}},{key:"getSurfaceContent_",value:function(e){return this.ignoreSurfaceUpdate_?void(this.ignoreSurfaceUpdate_=!1):babelHelpers.get(Object.getPrototypeOf(t.prototype),"getSurfaceContent_",this).call(this,e)}},{key:"handleNodeClicked_",value:function(e){var t=e.delegateTarget.parentNode,s=this.getNodeObjFromId_(t.parentNode.id);s.expanded=!s.expanded,s.expanded?n.addClasses(t,"expanded"):n.removeClasses(t,"expanded"),this.nodes=this.nodes,this.ignoreSurfaceUpdate_=!0}},{key:"onNodesChanged_",value:function(){this.ignoreSurfaceUpdate_=!1}}]),t}(t);s.ELEMENT_CLASSES="treeview",s.ATTRS={nodes:{validator:Array.isArray,valueFn:function(){return[]}}},e.register("Treeview",s),this.steel.Treeview=s}.call(this),function(){"use strict";var e=this.steel.Treeview;this.steel.Treeview=e}.call(this);